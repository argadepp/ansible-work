process.roles=broker,controller
node.id={{ node_id }}

controller.quorum.voters=1@kafka1:9093,2@kafka2:9093,3@kafka3:9093
controller.listener.names=CONTROLLER

listeners=INTERNAL://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093,EXTERNAL://0.0.0.0:{{ external_port }}
advertised.listeners=INTERNAL://{{ inventory_hostname }}:9092,EXTERNAL://localhost:{{ external_port }}

listener.security.protocol.map=INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT,CONTROLLER:PLAINTEXT
inter.broker.listener.name=INTERNAL

log.dirs=/var/lib/kafka
num.partitions=3
offsets.topic.replication.factor=3
transaction.state.log.replication.factor=3
